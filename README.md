# OSM Address Audit

Tool for Auditing OSM Addresses using data provided by local authorities.

[Go To The Live Version](https://osm-address-audit.canopyfalls.com/)

## Running The Project Yourself

You will likely want to fork the project for yourself before running it as you will need to make changes to the code. Currently this project is not designed to be run by anyone else, future versions will hopefully include a configuration process to make it much more plug and play to host your own version of this tool. 

1. Install npm packages using `npm i`.
2. Update `wrangler.jsonc`, specifically the `d1_databases` item to include the details of your D1. You can also name it something random if you only intend on running the project locally.
3. If you want to run the project locally only and don't want to use a cloudflare D1 database then you will need to update `next.config.ts` by removing the following:

```typescript
initOpenNextCloudflareForDev({
  //@ts-expect-error
  experimental: { remoteBindings: true },
});
```

and replacing it with:

```typescript
initOpenNextCloudflareForDev();
```

4. Run `npm run dev` and you should be able to begin running the project locally.

## Deploying

Follow the cloudflare guide for deploying the project on workers if you want the project to run as a serverless project on cloudflare's infrastructure (you will need to set up a D1 database for this.)

It is possible to deploy it locally or on your own server but it would take significant edits to how the database code works. (Hopefully in future it will just be a drizzleORM database system and the actual database it uses will be something you can swap out fairly easily.)

## Adding Data

You will need to add addresses and imports to your database manually and also create the structure of the db manually. I did it all with SQL commands generated by openrefine on the production version. Hopefully in future there will be a schema folder with migrations to make running this project yourself easier.

## Report Issues!

I've probably missed something or gotten something wrong in this documentation so please report any issues with it. Feel free to submit feature requests and bug reports on this repository as well.